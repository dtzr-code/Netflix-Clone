{"ast":null,"code":"var _jsxFileName = \"/Users/dtzr/Documents/GitHub/netflix-clone/src/screens/ProfileScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from '../features/userSlice';\nimport db, { auth } from '../firebase';\nimport FullNav from '../FullNav';\nimport PlanScreen from './PlanScreen';\nimport \"./ProfileScreen.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProfileScreen() {\n  _s();\n\n  /* to use the email attribute */\n  const user = useSelector(selectUser); // To get the user subscription plan name\n\n  const [current, setCurrent] = useState(\"NIL\");\n  useEffect(() => {\n    const info = async () => {\n      db.collection(\"customers\").doc(user.uid).collection('subscriptions').get().then(querySnapshot => {\n        /* querySnapshot represents the result of a query */\n\n        /* loop through forEach subscriptions and retrieve the role attribute, current period start and end */\n        querySnapshot.forEach(async subscription => {\n          setCurrent({\n            role: subscription.data().role\n          });\n        });\n        info(); //To unsubscribe \n      });\n    };\n  }, [user.uid]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profileScreen\",\n    children: [/*#__PURE__*/_jsxDEV(FullNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileScreen__body\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Edit Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profileScreen__info\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://occ-0-3069-58.1.nflxso.net/dnm/api/v6/K6hjPJd6cR6FpVELC5Pd6ovHRSk/AAAABcGt38lP6INwT06gZ5Nn1fi8zT7r-ad0GfCsiLhB6zibZZCCCq_0EdrPvh5_-xs-pNl0Bilexan-d2mjkdyUGLbcEgB7.png?r=8aa\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profileScreen__details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profileScreen__plans\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Plans (Current Plan: \", current.role, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PlanScreen, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => auth.signOut(),\n              className: \"profileScreen__signOut\",\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileScreen, \"mEGmWAK2qy/iA1/Ew1dzKnc+jU0=\", false, function () {\n  return [useSelector];\n});\n\n_c = ProfileScreen;\nexport default ProfileScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileScreen\");","map":{"version":3,"sources":["/Users/dtzr/Documents/GitHub/netflix-clone/src/screens/ProfileScreen.js"],"names":["React","useEffect","useState","useSelector","selectUser","db","auth","FullNav","PlanScreen","ProfileScreen","user","current","setCurrent","info","collection","doc","uid","get","then","querySnapshot","forEach","subscription","role","data","email","signOut"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,OAAOC,EAAP,IAAaC,IAAb,QAAyB,aAAzB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAO,qBAAP;;;AAEA,SAASC,aAAT,GAAyB;AAAA;;AAEvB;AACA,QAAMC,IAAI,GAAGP,WAAW,CAACC,UAAD,CAAxB,CAHuB,CAKvB;;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;AACAD,EAAAA,SAAS,CAAC,MAAK;AACb,UAAMY,IAAI,GAAG,YAAW;AACtBR,MAAAA,EAAE,CAACS,UAAH,CAAc,WAAd,EACGC,GADH,CACOL,IAAI,CAACM,GADZ,EAEGF,UAFH,CAEc,eAFd,EAGGG,GAHH,GAIGC,IAJH,CAIQC,aAAa,IAAI;AAErB;;AACA;AACAA,QAAAA,aAAa,CAACC,OAAd,CAAuB,MAAMC,YAAN,IAAsB;AAC3CT,UAAAA,UAAU,CAAC;AACTU,YAAAA,IAAI,EAAED,YAAY,CAACE,IAAb,GAAoBD;AADjB,WAAD,CAAV;AAGD,SAJD;AAKAT,QAAAA,IAAI,GATiB,CASb;AACT,OAdH;AAeC,KAhBH;AAiBD,GAlBQ,EAkBN,CAACH,IAAI,CAACM,GAAN,CAlBM,CAAT;AAqBA,sBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA,4BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YADF,oBAEE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACE;AACE,UAAA,GAAG,EAAC,sLADN;AAEE,UAAA,GAAG,EAAC;AAFN;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA,kCACE;AAAA,sBAAKN,IAAI,CAACc;AAAV;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,SAAS,EAAC,sBAAf;AAAA,oCAEE;AAAA,kDAA0Bb,OAAO,CAACW,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAIE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,oBAJF,eAOE;AACE,cAAA,OAAO,EAAE,MAAKhB,IAAI,CAACmB,OAAL,EADhB;AAEE,cAAA,SAAS,EAAC,wBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA6BD;;GAzDQhB,a;UAGMN,W;;;KAHNM,a;AA2DT,eAAeA,aAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { selectUser } from '../features/userSlice'\nimport db, { auth } from '../firebase'\nimport FullNav from '../FullNav'\nimport PlanScreen from './PlanScreen'\nimport \"./ProfileScreen.css\"\n\nfunction ProfileScreen() {\n\n  /* to use the email attribute */\n  const user = useSelector(selectUser)\n\n  // To get the user subscription plan name\n  const [current, setCurrent] = useState(\"NIL\")\n  useEffect(()=> {\n    const info = async() => {\n      db.collection(\"customers\")\n        .doc(user.uid)\n        .collection('subscriptions')\n        .get()\n        .then(querySnapshot => {\n\n          /* querySnapshot represents the result of a query */\n          /* loop through forEach subscriptions and retrieve the role attribute, current period start and end */\n          querySnapshot.forEach( async subscription => {\n            setCurrent({\n              role: subscription.data().role\n            });\n          });\n          info(); //To unsubscribe \n        });\n      }\n  }, [user.uid])\n\n\n  return (\n    <div className='profileScreen'>\n      <FullNav/> {/* Reusing the nav bar */}\n      <div className=\"profileScreen__body\">\n        <h1>Edit Profile</h1>\n        <div className=\"profileScreen__info\">\n          <img \n            src=\"https://occ-0-3069-58.1.nflxso.net/dnm/api/v6/K6hjPJd6cR6FpVELC5Pd6ovHRSk/AAAABcGt38lP6INwT06gZ5Nn1fi8zT7r-ad0GfCsiLhB6zibZZCCCq_0EdrPvh5_-xs-pNl0Bilexan-d2mjkdyUGLbcEgB7.png?r=8aa\"\n            alt=\"\"\n          />\n          <div className=\"profileScreen__details\">\n            <h2>{user.email}</h2>\n            <div className=\"profileScreen__plans\">\n              {/* Showing current plan: beside h3 element plans */}\n              <h3>Plans (Current Plan: {current.role})</h3>\n\n              <PlanScreen/>\n              {/* Upon clicking to sign out, it will go to App.js and triggers off the listerner because the authentications tate changed */}\n              {/* Now there is no userAuth, so it will dispatch the  logout action so now user is now null and retunrs back to the login screen*/}\n              <button \n                onClick={()=> auth.signOut()}\n                className=\"profileScreen__signOut\"\n              >Sign Out</button>\n            </div>\n         </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ProfileScreen\n"]},"metadata":{},"sourceType":"module"}